[{"title":"å¹²é¥­äººã®å¤§å±æ©Ÿ","path":"/2020/12/10/å¹²é¥­äººã®å¤§å±æ©Ÿ/","content":"1ã€å±æ©Ÿèµ·å› ä»Šå¤©æ˜¯12æœˆ10å·ï¼Œè·ç¦»ç–«æƒ…å‘ç”Ÿä¸çŸ¥é“è¿‡äº†å¤šå°‘å¤©åæ­£æ€»ä¹‹å°±æ˜¯å¾ˆå¤šå¤©éƒ½å®ƒå–µå¿«ä¸€å¹´äº†çš„ä¸€å¤©ã€‚ å…¬å¸è‡ªä»å¤å·¥åä¾ç„¶åœ¨æ‰§è¡Œåˆé¥­éœ€è¦æå‰é¢„å®šçš„åˆ¶åº¦ï¼Œè™½è¯´æ˜¯ä¸ºäº†å¤§å®¶çš„å¥åº·ç€æƒ³ï¼Œä½†æ˜¯æ¯å¤©éƒ½è¦ç­‰åˆ°æ™šä¸ŠåäºŒç‚¹ç„¶åæ‰“å¼€appè®¢é¤ï¼Œå¯¹äºæˆ‘è¿™ç§ä¸€å¤©è‡³å°‘éœ€è¦ç¡å…«-ä¹å°æ—¶çš„ç”Ÿç‰©æ¥è¯´ç®€ç›´æ˜¯ä¸€ç§æŠ˜ç£¨ã€‚ å› æ­¤æˆ‘å†³å®šå¼€å§‹é‚£ä¸ªè®¡åˆ’ï¼ï¼ˆä¸»è¦æ˜¯åŸæ¥è®¡åˆ’è¿‡ç„¶åå¿˜äº†æ‰§è¡Œäº†Â·Â·Â·ï¼‰ã€‚ 2ã€å¤§è‡´æ€è·¯ ä½¿ç”¨æŠ“åŒ…å·¥å…·å¯¹æ‰‹æœºappè¿›è¡ŒæŠ“åŒ…ï¼Œè·å–è®¢é¤å¯¹åº”çš„APIæ¥å£ ç¼–å†™ä¸€ä¸ªå®šæ—¶ä»»åŠ¡è¿›è¡Œä¼ªé€ è®¢é¤è¯·æ±‚ï¼Œå¹¶åœ¨æŒ‡å®šæ—¶é—´å‘é€ å°†é¡¹ç›®æ‰“åŒ…æ‰”åˆ°æœåŠ¡å™¨ä¸Šè¿è¡Œ 3ã€è¨ˆç•«é–‹å§‹ï¼â‘  æŠ“åŒ…ï¼æˆ‘ä½¿ç”¨çš„æŠ“åŒ…å·¥å…·å°±æ˜¯æ¯”è¾ƒçŸ¥åçš„Fiddler ç›´æ¥æœç´¢å¼•æ“æœå°±å®Œäº‹äº†ï¼Œæˆ–è€…ç›´æ¥ç‚¹å‡»è¿™é‡Œçš„å®˜ç½‘é“¾æ¥ ç„¶åä¸‹è½½å®‰è£…ï¼Œå®‰è£…ä¸€ç›´ä¸‹ä¸€æ­¥å°±å¯ä»¥ Fiddlerä¸»è¦æ˜¯ä¸€ä¸ªæŠ“Webçš„å·¥å…·ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æŠ“å¤–éƒ¨è®¾å¤‡çš„è®¿é—®è¯·æ±‚ï¼Œåªä¸è¿‡éœ€è¦è®¾ç½®ä»£ç† å…³é—­ç”µè„‘çš„é˜²ç«å¢™ Macçš„æ¯”è¾ƒç®€å•ï¼šæ‰“å¼€ç³»ç»Ÿä¾¿å¥½è®¾ç½® â€“&gt;å®‰å…¨ä¸éšç§â€“&gt;é˜²ç«å¢™ ç„¶åå…³é—­å°±è¡Œäº† Windowsçš„æˆ‘ä¹Ÿå¿˜äº†åœ¨å“ªäº†ï¼Œåæ­£æ‰¾ä¸åˆ°å°±å»æœä¸€ä¸‹ æ‰“å¼€Fiddleræ‰¾åˆ°å³ä¸Šè§’è®¾ç½® ä¾æ¬¡æ˜¯ å…è®¸æƒé™ã€æ•è·HTTPSè¯·æ±‚ã€å¿½ç•¥è¯·æ±‚é”™è¯¯ ç„¶åå°±æ˜¯è®¾ç½®ä»£ç† è®°ä½è¿™ä¸ªç«¯å£å·ï¼Œé»˜è®¤æ˜¯8866 é€‰é¡¹ä¾æ¬¡æ˜¯ï¼šå¯åŠ¨æ—¶å¼€å¯ä»£ç†ã€å…è®¸å¤–éƒ¨è®¾å¤‡è®¿é—® è®¾ç½®å®Œæˆä¹‹åç‚¹saveç„¶åé‡å¯Fiddlerï¼Œè®°å¾—é‡å¯ï¼Œä¸ç„¶è®¾ç½®ä¸ä¼šç”Ÿæ•ˆ ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹ ç„¶åé…ç½®æ‰‹æœºçš„ä»£ç† step 1step 2step 3 æœåŠ¡å™¨åœ°å€ä¸ºä½ çš„ç”µè„‘çš„IPåœ°å€ï¼Œç«¯å£å·å°±æ˜¯åˆšæ‰åœ¨Fiddlerä¸­è®¾ç½®çš„ç«¯å£å·äº† Macå¯ä»¥ç›´æ¥æ‰“å¼€ç½‘ç»œåå¥½è®¾ç½®æŸ¥çœ‹ windoså¯ä»¥cmdè¾“å…¥ 1ipconfig æ­£å¼å¼€å§‹æŠ“åŒ… è¿™æ—¶å€™å¦‚æœä½ åˆ·æ–°ç½‘é¡µçš„è¯ï¼ŒFiddlerä¸­ä¼šå‡ºç°å¤§é‡è¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦å…³æ‰å¯èƒ½ä¼šå‡ºç°ç½‘ç»œè¯·æ±‚çš„ç¨‹åºã€‚ç„¶åæ‰“å¼€æ‰‹æœºapp è¿™æ—¶å€™å°±éœ€è¦ä½ ä»”ç»†å¯»æ‰¾äº†ï¼Œå‘ç°äº†å…¬å¸çš„æœåŠ¡å™¨IPè¯·æ±‚ï¼Œç„¶åçœ‹ä¸€ä¸‹è¯·æ±‚ç›¸åº”çš„æ•°æ®ã€‚ æ²¡é”™ï¼Œå°±æ˜¯è¿™ä¸ªäº†ã€‚è¯è¯´é£Ÿå ‚çš„ç³–é†‹é‡Œè„ŠçœŸçš„ä¸æ€ä¹ˆæ · ç„¶åå› ä¸ºè¯·æ±‚ç¡®å®å¤ªå¤šï¼Œæ·»åŠ ä¸€ä¸ªè¿‡æ»¤æ¡ä»¶è¿‡æ»¤ä¸€ä¸‹ ç›´æ¥ä½¿ç”¨è¯·æ±‚å¤´ä¸­Hostä½œä¸ºæ¡ä»¶å³å¯ ç°åœ¨å°±è·å–åˆ°äº†éœ€è¦çš„è¯·æ±‚æ¥å£å’ŒHeaderä»¥åŠè´Ÿè½½çš„Bodyæ•°æ® â‘¡ ç¼–å†™ç¨‹åºç”±äºè¿™ä¸ªç¨‹åºå†™å‡ºæ¥å°±åªä¸ºäº†ç»™æˆ‘è‡ªå·±è®¢é¤ï¼Œæ‰€ä»¥åœ¨ç¼–å†™è¿‡ç¨‹ä¸­å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯ç¡¬ç¼–ç  å‘é€è¯·æ±‚æˆ‘ä½¿ç”¨çš„æ˜¯hutoolå·¥å…·åŒ…ä¸­å°è£…å¥½çš„HttpRequestç±» å…·ä½“ä»£ç æˆ‘å°±ä¸è´´äº†ï¼Œå› ä¸ºæ¶‰åŠå…¬å¸çš„IPåœ°å€ï¼ŒåŠappçš„æ¥å£ç­‰ ä¸è¿‡å®šæ—¶ä»»åŠ¡çš„ä»£ç å¯ä»¥è´´ä¸€ä¸‹ 1234567891011121314151617181920212223242526272829303132333435@RestController@Slf4jpublic class OrderController &#123; @Autowired HttpRequestService service; @Autowired private ThreadPoolTaskScheduler threadPoolTaskScheduler; private ScheduledFuture&lt;?&gt; future; @Bean public ThreadPoolTaskScheduler threadPoolTaskScheduler() &#123; return new ThreadPoolTaskScheduler(); &#125; @Value(&quot;$&#123;cron.prod&#125;&quot;) private String cron; @GetMapping(&quot;/start&quot;) public String start() &#123; future = threadPoolTaskScheduler.schedule(new MyRunnable(service), new CronTrigger(cron)); return &quot;startTask&quot;; &#125; @GetMapping(&quot;/stop&quot;) public String stop() &#123; if (future != null) &#123; future.cancel(true); &#125; return &quot;stopTask&quot;; &#125;&#125; ä¸»è¦æ˜¯å†™äº†ä¸¤ä¸ªæ¥å£ç”¨æ¥æ§åˆ¶å®šæ—¶ä»»åŠ¡çš„å¼€å¯å’Œå…³é—­ ç„¶ååœ¨æœ¬æœºè°ƒè¯• â‘¢ æœåŠ¡å™¨è¿è¡Œæƒ³è¦å®ç°åœ¨åäºŒç‚¹è®¢é¤è‚¯å®šä¸èƒ½åªè®©ç¨‹åºè¿è¡Œåœ¨æœ¬æœºç”µè„‘ä¸Šï¼Œå¦åˆ™ä½ çš„ç”µè„‘éœ€è¦æ•´æ™šå¼€æœºï¼Œæˆ–è€…ä½ å¯ä»¥è®¾ç½®å®šæ—¶å…³æœºã€‚ä½†è¿™ä¹Ÿå¤ªéº»çƒ¦äº†ï¼Œè€Œä¸”è®¢ä¸ªé¤è¿˜éœ€è¦å ç”¨åŠå…¬ç”µè„‘ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸ç°å®çš„ã€‚æ‰€ä»¥éœ€è¦æŠŠjaråŒ…æ‰”åˆ°æœåŠ¡å™¨ä¸Šè¿è¡Œ å› ä¸ºåˆ›å»ºçš„é¡¹ç›®æ˜¯SpringBooté¡¹ç›®ï¼Œå› æ­¤å¯ä»¥ç›´æ¥æ‰“Jarè¿è¡Œï¼Œæ–¹ä¾¿å¾ˆå¤š ä½ å¯ä»¥ä¼ ç»Ÿçš„åœ¨æœ¬åœ°æŠŠJaråŒ…æ‰“åŒ…å¥½ï¼Œç„¶åä¸Šä¼ æœåŠ¡å™¨ï¼ŒJava -Jar è¿è¡Œ ä¸è¿‡æˆ‘é€‰æ‹©ç¬¬äºŒç§æ–¹å¼ï¼Œç›´æ¥ä½¿ç”¨ä¸€ä¸ªideaä¸Šé˜¿é‡Œçš„æ’ä»¶ä¸€é”®éƒ¨ç½² ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ˜¯ æ–‡ä»¶è·å–æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ä½ çš„é¡¹ç›®æœ€ç»ˆç¼–è¯‘å®Œæˆåçš„æ–‡ä»¶ï¼š ä½ å¯ä»¥é€‰æ‹©mavenæ„å»ºåç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¿™æ—¶ä½ éœ€è¦è¾“å…¥mavenå…·ä½“çš„æ„å»ºå‘½ä»¤ï¼Œä¸€èˆ¬å°±æ˜¯clean install æ‰‹åŠ¨æŒ‡å®šä¸Šä¼ çš„æ–‡ä»¶ Gradleæ‰“åŒ…ï¼Œå½“å‰æ˜¯ä¸ªmavené¡¹ç›®ï¼Œå› æ­¤ä¸å¯ä½¿ç”¨ é€‰æ‹©ä½ è¦ä¸Šä¼ çš„æœåŠ¡å™¨å®ä¾‹ ä¸Šä¼ åˆ°å“ªä¸ªè·¯å¾„ä¸‹ ä¸Šä¼ å®Œæˆåéœ€è¦æ‰§è¡Œçš„å‘½ä»¤ å…³äºè¿™ä¸ªéœ€è¦è¯´ä¸€ä¸‹ï¼Œå› ä¸ºæˆ‘çš„é¡¹ç›®æ˜¯ä¸ªjaråŒ…ï¼Œç›´æ¥ä½¿ç”¨Java -jarè¿è¡Œçš„è¯ï¼Œç›´æ¥å…³æ‰å‘½ä»¤è¡Œé¢æ¿å°±ä¼šåœæ­¢è¿è¡Œï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®åå°è¿è¡Œçš„å‘½ä»¤ 1nohup java -jar xxx.jar &gt; log.txt &amp; åˆ°è¿™è¿˜éœ€è¦ä½ è¿›å…¥é˜¿é‡Œäº‘çš„æ§åˆ¶å°ï¼Œæ‰¾åˆ°ä½ çš„æœåŠ¡å™¨å®ä¾‹ï¼Œæ‰“å¼€è¿™ä¸ªé¡¹ç›®æ‰€åœ¨ç«¯å£çš„è®¿é—®æƒé™ æœ€åï¼Œè®¿é—®ä½ çš„æœåŠ¡å™¨æ‰“å¼€å®šæ—¶ä»»åŠ¡å°±å®Œæˆäº† 4ã€ä½œæˆ°çµæŸå¹²é¥­äººå¤§è·å…¨èƒœï¼ğŸ‰ğŸ‰ğŸ‰ğŸ‰","tags":["æŠ“åŒ…","è¯·æ±‚ä¼ªè£…"],"categories":["SpringBoot"]},{"title":"ä½¿ç”¨Glideåœ¨Androidåº”ç”¨ä¸­åŠ è½½ç½‘ç»œå›¾ç‰‡","path":"/2020/05/16/ä½¿ç”¨Glideåœ¨Androidåº”ç”¨ä¸­åŠ è½½ç½‘ç»œå›¾ç‰‡/","content":"ä»£ç ç”±äºå®½åº¦æ¯”è¾ƒå°è¢«æ¢è¡Œäº†ï¼Œçœ‹ç€å¾ˆä¸æ•´é½ï¼Œå…¶å®å¾ˆæ•´é½ï¼Œæ³¨é‡Šå†™å¾—æ¯”è¾ƒè¯¦ç»†ï¼Œæ¯”è¾ƒå¤šä¸å®¹æ˜“é˜…è¯»ï¼Œå¯ä»¥å…ˆå¤åˆ¶åˆ°ideæˆ–è€…Vscodeé‡Œé˜…è¯» å¸ƒå±€æ–‡ä»¶é‡Œåªæœ‰ä¸€ä¸ªimageview åŠ¨ç”»èµ„æºæ–‡ä»¶å¯ä»¥ä¸éœ€è¦ Jsonæ–‡ä»¶æ”¾ç½®çš„ç›®å½•ä¸º &#x2F;rememberWords&#x2F;internetPic&#x2F;src&#x2F;main&#x2F;assets&#x2F;test.json gradleçš„è®¾ç½® æ³¨æ„é€‰æ‹©è‡ªå·±Moduleçš„build.gradleæ–‡ä»¶ 123456789101112//è¿™é‡Œæ˜¯éœ€è¦æ·»åŠ çš„ä»£ç æ®µï¼Œæ³¨æ„æ˜¯åœ¨dependenciesæ·»åŠ ï¼Œä¸æ˜¯å†åˆ›å»ºä¸€ä¸ªdependenciesdependencies &#123; implementation &#x27;com.github.bumptech.glide:glide:4.11.0&#x27; annotationProcessor &#x27;com.github.bumptech.glide:compiler:4.11.0&#x27; compile &#x27;org.apache.httpcomponents:httpcore:4.4.4&#x27;&#125;//è¿™é‡Œæ˜¯éœ€è¦ç›´æ¥æ·»åŠ åœ¨build.gradleæ–‡ä»¶ä¸­çš„repositories &#123; mavenCentral() google()&#125; MainActivityç±»å®ç°ä¸»è¦åŠŸèƒ½ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163package com.example.internetpic;import androidx.appcompat.app.AppCompatActivity;import android.graphics.drawable.Drawable;import android.os.Bundle;import android.view.MotionEvent;import android.view.View;import android.view.animation.Animation;import android.view.animation.AnimationUtils;import android.widget.ImageView;import android.widget.Toast;import com.bumptech.glide.Glide;import com.bumptech.glide.RequestBuilder;import com.bumptech.glide.request.RequestOptions;import org.apache.http.util.EncodingUtils;import org.json.JSONArray;import org.json.JSONException;import org.json.JSONObject;import java.io.IOException;import java.io.InputStream;import java.util.ArrayList;import java.util.Random;import javax.xml.transform.Transformer;public class MainActivity extends AppCompatActivity &#123; private ArrayList&lt;String&gt; arrPicPath = new ArrayList&lt;&gt;();//listå­˜å‚¨å›¾ç‰‡URL private String Str_json;//å…¨å±€å˜é‡å­˜å‚¨jsonæ–‡ä»¶è½¬æ¢æ¥çš„å­—ç¬¦ä¸² private int index = 0;//Listä¸‹æ ‡ï¼ˆç´¢å¼•ï¼‰ private float touchDownX,touchUpX;//æŒ‰ä¸‹ã€æŠ¬èµ·æ—¶çš„Xåæ ‡ ImageView imageView;//è¿™ä¸ªå°±ä¸è¦å†™äº†å§ Animation animation;//å­˜å‚¨åŠ¨ç”»èµ„æº @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); imageView = findViewById(R.id.imageview);//IDè·å–image view animation = AnimationUtils.loadAnimation(this,R.anim.anim_alpha_in);//åŠ è½½æœ¬åœ°åŠ¨ç”»èµ„æºæ–‡ä»¶ imageView.setAnimation(animation);//ç»™image viewè®¾ç½®åŠ¨ç”» doReadJson();//è‡ªå®šä¹‰æ–¹æ³•ï¼Œä»æœ¬åœ°è¯»å–Jsonæ–‡ä»¶ doParseJson();//è‡ªå®šä¹‰æ–¹æ³•ï¼Œè§£æJsonæ–‡ä»¶ RequestOptions options = new RequestOptions();//å®ä¾‹åŒ–ä¸€ä¸ªoptionå¯¹è±¡ï¼Œå¹¶è®¾ç½®å±æ€§ options.centerCrop()//è®¾ç½®å±…ä¸­ .transform(new dictionaryTransform())//è°ƒç”¨transformï¼Œå®ä¾‹åŒ–dictionaryTransformç±»è°ƒç”¨è‡ªå®šä¹‰æ–¹æ³•BitmapMosaicå®ç°æ‰“ç  .placeholder(R.drawable.img_load)//è®¾ç½®åŠ è½½æ—¶æ˜¾ç¤ºçš„å›¾ç‰‡ï¼ˆå ä½ï¼‰ .error(R.drawable.img_load)//å¤±è´¥æ—¶æ˜¾ç¤ºçš„å›¾ç‰‡ .fallback(R.drawable.img_load);//åé¦ˆå›¾ç‰‡ final RequestBuilder&lt;Drawable&gt; requestBuilder =//å®šä¹‰ä¸€ä¸ªRequestBuilder&lt;Drawable&gt;å¯¹è±¡ Glide.with(this)//å®ä¾‹åŒ–ä¸€ä¸ªGlideå¯¹è±¡ .asDrawable()//è®¾ç½®å¯¹è±¡ç±»å‹ä¸ºDrawable .apply(options);//åº”ç”¨optionsçš„è®¾ç½® final RequestBuilder&lt;Drawable&gt; requestBuilderwithout =//åŒä¸Šï¼Œä½†æ˜¯è¿™ä¸ªå¯¹è±¡ä¸è®¾ç½®optionï¼Œç”¨ä»¥è®¾ç½®æ— æ‰“ç çš„å›¾ç‰‡ Glide.with(this) //å…¶å®ä¸¥è°¨ç‚¹åº”è¯¥è®¾ç½®ä¸¤ä¸ªoption .asDrawable(); requestBuilder.clone()//æ¸…é™¤ .load(arrPicPath.get(index))//æ ¹æ®ç´¢å¼•æ‰¾åˆ°listä¸­å¯¹åº”URLï¼Œloadæ–¹æ³•åŠ è½½ç½‘ç»œå›¾ç‰‡ .into(imageView);//æŠŠå›¾ç‰‡æ”¾è¿›image viewï¼Œæ³¨æ„ï¼šæ­¤æ—¶ä½¿ç”¨çš„æ˜¯è®¾ç½®è¿‡optionçš„å¯¹è±¡ï¼Œå³æ‰“ç çš„å›¾ç‰‡// Glide.with(this).load(&quot;https://www.baidu.com/img/bd_logo1.png&quot;).into(imageView); imageView.setOnTouchListener(new View.OnTouchListener() &#123; @Override public boolean onTouch(View v, MotionEvent event) &#123;//ä¸ºimage viewè®¾ç½®è§¦æ‘¸ç›‘å¬äº‹ä»¶ if (event.getAction() == MotionEvent.ACTION_DOWN) &#123;//event.getAction()è·å–å½“å‰äº‹ä»¶ï¼Œåˆ©ç”¨å¸¸é‡åˆ¤æ–­è¯¥äº‹ä»¶æ˜¯å¦ä¸ºæŒ‰ä¸‹äº‹ä»¶ touchDownX = event.getX();//è·å–æŒ‰ä¸‹æ—¶çš„åæ ‡ï¼Œå¹¶å­˜å‚¨ return false;//è¿”å›falseè¡¨ç¤ºæŒ‰ä¸‹äº‹ä»¶æ²¡æœ‰è¢«å¤„ç†å®Œï¼Œä¸‹é¢çš„ç›‘å¬äº‹ä»¶æ‰å¯ä»¥ç»§ç»­å¤„ç†è¯¥æŒ‰ä¸‹äº‹ä»¶ &#125; else if (event.getAction() == MotionEvent.ACTION_UP) &#123;//åŒä¸Šï¼Œåˆ¤æ–­æ˜¯å¦æŠ¬èµ· touchUpX = event.getX();//è·å–æŠ¬èµ·æ—¶åæ ‡ï¼Œå‚¨å­˜ if (touchUpX - touchDownX &gt; 50) &#123;//åˆ¤æ–­æŒ‰ä¸‹æŠ¬èµ·åæ ‡é—´éš”ï¼Œå¹¶å®šä¹‰ä¸ºä¸€æ¬¡ä»å·¦åˆ°å³æ»‘åŠ¨ Random r = new Random();//å®šä¹‰å¹¶å®ä¾‹åŒ–ä¸€ä¸ªéšæœºæ•°å¯¹è±¡ index = index == 0 ? arrPicPath.size() - 1 : r.nextInt(arrPicPath.size());//ä¸‰ä½è¿ç®—ç¬¦ï¼Œåˆ¤æ–­indexæ˜¯å¦ç­‰äº0ï¼Œ // è‹¥ç­‰äº0åˆ™ä½¿indexç­‰äºListçš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè‹¥ä¸ç­‰äº0åˆ™ä½¿indexç­‰äºç”Ÿæˆçš„ï¼ˆ0-listå…ƒç´ ä¸ªæ•°ï¼‰ä¸€ä¸ªéšæœºæ•° //å…¶å®è¿™ä¸€æ­¥é€»è¾‘ä¸Šæœ‰é”™ï¼Œå› ä¸ºä¸€å¼€å§‹è®¾ç½®ä¸ºæœ‰é¡ºåºçš„å¾ªç¯æ˜¾ç¤ºå›¾ç‰‡ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­å·¦å³æ»‘åŠ¨å’ŒListçš„ä¸‹æ ‡é˜²æ­¢è¶Šç•Œ //æ”¹ä¸ºéšæœºåå¯ç›´æ¥åˆ é™¤å·¦å³æ»‘åŠ¨åˆ¤æ–­ï¼Œå’Œä¸‹æ ‡åˆ¤æ–­ï¼Œç›´æ¥éšæœºæ•°è®¾ç½®ä¸‹æ ‡å³å¯ requestBuilder.clone()//æ¸…é™¤ .load(arrPicPath.get(index))//åŠ è½½éšæœºåçš„å›¾ç‰‡ .into(imageView);//è®¾ç½®è¿›image viewï¼ŒåŒä¸Šï¼Œæ³¨æ„ï¼šæ­¤æ—¶ä¾ç„¶è®¾ç½®çš„æ˜¯æ‰“ç å›¾ç‰‡ &#125; else if (touchDownX - touchUpX &gt; 50) &#123;//åŒä¸Šï¼Œä¸å†èµ˜è¿° Random r = new Random(); index = index == arrPicPath.size() - 1 ? 0 : r.nextInt(arrPicPath.size()); requestBuilder.clone() .load(arrPicPath.get(index)) .into(imageView); &#125; &#125; return false;//æ³¨æ„ï¼è¿”å›falseè¡¨ç¤ºæŠ¬èµ·äº‹ä»¶æ²¡æœ‰å¤„ç†å®Œï¼Œç”±äºæˆ‘ä¸‹é¢çš„ç›‘å¬ä½¿ç”¨çš„æ˜¯é•¿æŒ‰äº‹ä»¶ï¼Œæ‰€ä»¥ä¸Šé¢ä¸¤ä¸ªæ˜¯falseè¿˜æ˜¯trueæ²¡æœ‰å½±å“ //å¦‚æœæƒ³ä½¿ç”¨å•å‡»äº‹ä»¶ï¼ˆonClickï¼‰åˆ™æŒ‰ä¸‹äº‹ä»¶è¦è¿”å›false &#125; &#125;);// Glide.with(this)// .load(R.drawable.img01)// .apply(options)// .into(imageView); imageView.setOnLongClickListener(new View.OnLongClickListener() &#123; @Override public boolean onLongClick(View v) &#123;//ç»™image viewè®¾ç½®é•¿æŒ‰äº‹ä»¶ requestBuilderwithout.clone()//æ³¨æ„ï¼šæ­¤æ—¶ä½¿ç”¨çš„æ˜¯æ²¡æœ‰è®¾ç½®optionçš„å¯¹è±¡ï¼Œå³åŠ è½½çš„å›¾ç‰‡æ˜¯æ— ç çš„ .load(arrPicPath.get(index)) .into(imageView); return true;//è¿”å›trueï¼Œè¡¨ç¤ºé•¿æŒ‰äº‹ä»¶å¤„ç†å®Œæ¯• &#125; &#125;); &#125; /*è¯»å–Json*/ public void doReadJson()&#123; try &#123; InputStream is = getResources().getAssets().open(&quot;test.json&quot;);//æ ¹æ®æ–‡ä»¶åæ‰“å¼€jsonæ–‡ä»¶ï¼Œå¹¶å­˜å…¥è¾“å…¥æµå¯¹è±¡ int length = is.available();//è·å–è¾“å…¥æµå­—èŠ‚é•¿åº¦ byte[] buffer = new byte[length];//å®šä¹‰ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä½œä¸ºç¼“å†²ï¼Œé•¿åº¦ä¸ºè¾“å…¥æµçš„é•¿åº¦ is.read(buffer);//å°†è¾“å…¥æµä¸­æ•°æ®æ”¾è¿›ç¼“å†²å­—èŠ‚æ•°ç»„ä¸­ Str_json = EncodingUtils.getString(buffer,&quot;utf-8&quot;);//æŠŠå­—èŠ‚æ•°ç»„ä¸­çš„æ•°æ®æ”¾å…¥å­—ç¬¦ä¸²ä¸­ï¼Œè¿™æ ·å°±æŠŠjsonæ–‡ä»¶è¯»å–æˆäº†å­—ç¬¦ä¸² is.close();//åˆ‡è®°ï¼Œä¸è¦å¿˜è®°å…³é—­æµ &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; /*è§£æJson*/ public void doParseJson() &#123; if (Str_json == null) &#123;// åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¯»å–äº†Jsonæ–‡ä»¶ Toast.makeText(this, &quot;è¯·å…ˆè¯»å–Jsonæ–‡ä»¶ï¼&quot;, Toast.LENGTH_SHORT).show();//æ²¡æœ‰å°±å¼¹å‡ºæç¤º &#125; else &#123; try &#123; JSONArray jsonArray = new JSONArray(Str_json);// åŸºäºStr_jsonå­—ç¬¦ä¸²åˆ›å»ºJsonå¯¹è±¡æ•°ç»„ for (int i = 0; i &lt; jsonArray.length(); i++) &#123;// éå†Jsonæ•°ç»„ JSONObject jsonObject = jsonArray.getJSONObject(i);// é€šè¿‡ä¸‹æ ‡è·å–jsonæ•°ç»„å…ƒç´ â€”â€”Jsonå¯¹è±¡ // å¯¹Jsonå¯¹è±¡æŒ‰é”®å–å€¼ï¼Œå…¶å®æˆ‘åªéœ€è¦imageçš„ç½‘å€å°±è¡Œäº†ï¼Œä¹Ÿä¸éœ€è¦ç»„æˆå¯¹è±¡2333ï¼Œä½†æ˜¯è¿™åªæ˜¯ä¸ªdemoï¼Œç»„æˆå¯¹è±¡æ˜¯ä¸ºäº†ä¾›åé¢ä½¿ç”¨ int id = jsonObject.getInt(&quot;id&quot;); String word = jsonObject.getString(&quot;word&quot;); String explain = jsonObject.getString(&quot;explain&quot;); String sound = jsonObject.getString(&quot;sound&quot;); String image = &quot;https://fox.ftqq.com/&quot;+jsonObject.getString(&quot;image&quot;); Word wordObject = new Word(id, word, explain, sound, image);// ç»„æˆWordå¯¹è±¡ arrPicPath.add(wordObject.getImage());//è·å–å¯¹è±¡ä¸­çš„imageçš„å€¼ï¼Œå¹¶æ·»åŠ åˆ°Listä¸­ &#125; &#125; catch (JSONException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125; dictionaryTransformç±»ç”¨æ¥å®ç°æ‰“ç åŠŸèƒ½å…¶ä¸­çš„æ‰“ç æ–¹æ³•æ˜¯åœ¨ä¸€ç¯‡æ–‡ç« é‡Œçœ‹åˆ°çš„ï¼Œæ‰¾ä¸åˆ°æ¥æºäº†ï¼ŒåŸä½œè€…å¦‚æœçœ‹åˆ°çš„è¯å¯ä»¥åŠ ä¸Šæ‚¨çš„é“¾æ¥å—· 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115package com.example.internetpic;import android.graphics.Bitmap;import android.graphics.Color;import androidx.annotation.NonNull;import com.bumptech.glide.load.engine.bitmap_recycle.BitmapPool;import com.bumptech.glide.load.resource.bitmap.BitmapTransformation;import java.security.MessageDigest;public class dictionaryTransform extends BitmapTransformation &#123; @Override protected Bitmap transform(@NonNull BitmapPool pool, @NonNull Bitmap toTransform, int outWidth, int outHeight) &#123; return BitmapMosaic(toTransform,40); &#125; @Override public void updateDiskCacheKey(@NonNull MessageDigest messageDigest) &#123; &#125; public static Bitmap BitmapMosaic(Bitmap bitmap, int BLOCK_SIZE) &#123; if (bitmap == null || bitmap.getWidth() == 0 || bitmap.getHeight() == 0 || bitmap.isRecycled()) &#123; return null; &#125; int mBitmapWidth = bitmap.getWidth(); int mBitmapHeight = bitmap.getHeight(); Bitmap mBitmap = Bitmap.createBitmap(mBitmapWidth, mBitmapHeight, Bitmap.Config.ARGB_8888);//åˆ›å»ºç”»å¸ƒ int row = mBitmapWidth / BLOCK_SIZE;// è·å¾—åˆ—çš„åˆ‡çº¿ int col = mBitmapHeight / BLOCK_SIZE;// è·å¾—è¡Œçš„åˆ‡çº¿ int[] block = new int[BLOCK_SIZE * BLOCK_SIZE]; for (int i = 0; i &lt;=row; i++) &#123; for (int j =0; j &lt;= col; j++) &#123; int length = block.length; int flag = 0;// æ˜¯å¦åˆ°è¾¹ç•Œæ ‡å¿— if (i == row &amp;&amp; j != col) &#123; length = (mBitmapWidth - i * BLOCK_SIZE) * BLOCK_SIZE; if (length == 0) &#123; break;// è¾¹ç•Œå¤–å·²ç»æ²¡æœ‰åƒç´  &#125; bitmap.getPixels(block, 0, BLOCK_SIZE, i * BLOCK_SIZE, j * BLOCK_SIZE, mBitmapWidth - i * BLOCK_SIZE, BLOCK_SIZE); flag = 1; &#125; else if (i != row &amp;&amp; j == col) &#123; length = (mBitmapHeight - j * BLOCK_SIZE) * BLOCK_SIZE; if (length == 0) &#123; break;// è¾¹ç•Œå¤–å·²ç»æ²¡æœ‰åƒç´  &#125; bitmap.getPixels(block, 0, BLOCK_SIZE, i * BLOCK_SIZE, j * BLOCK_SIZE, BLOCK_SIZE, mBitmapHeight - j * BLOCK_SIZE); flag = 2; &#125; else if (i == row &amp;&amp; j == col) &#123; length = (mBitmapWidth - i * BLOCK_SIZE) * (mBitmapHeight - j * BLOCK_SIZE); if (length == 0) &#123; break;// è¾¹ç•Œå¤–å·²ç»æ²¡æœ‰åƒç´  &#125; bitmap.getPixels(block, 0, BLOCK_SIZE, i * BLOCK_SIZE, j * BLOCK_SIZE, mBitmapWidth - i * BLOCK_SIZE, mBitmapHeight - j * BLOCK_SIZE); flag = 3; &#125; else &#123; bitmap.getPixels(block, 0, BLOCK_SIZE, i * BLOCK_SIZE, j * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);//å–å‡ºåƒç´ æ•°ç»„ &#125; int r = 0, g = 0, b = 0, a = 0; for (int k = 0; k &lt; length; k++) &#123; r += Color.red(block[k]); g += Color.green(block[k]); b += Color.blue(block[k]); a += Color.alpha(block[k]); &#125; int color = Color.argb(a / length, r / length, g / length, b / length);//æ±‚å—å†…æ‰€æœ‰é¢œè‰²çš„å¹³å‡å€¼ for (int k = 0; k &lt; length; k++) &#123; block[k] = color; &#125; if (flag == 1) &#123; mBitmap.setPixels(block, 0, mBitmapWidth - i * BLOCK_SIZE, i * BLOCK_SIZE, j * BLOCK_SIZE, mBitmapWidth - i * BLOCK_SIZE, BLOCK_SIZE); &#125; else if (flag == 2) &#123; mBitmap.setPixels(block, 0, BLOCK_SIZE, i * BLOCK_SIZE, j * BLOCK_SIZE, BLOCK_SIZE, mBitmapHeight - j * BLOCK_SIZE); &#125; else if (flag == 3) &#123; mBitmap.setPixels(block, 0, BLOCK_SIZE, i * BLOCK_SIZE, j * BLOCK_SIZE, mBitmapWidth - i * BLOCK_SIZE, mBitmapHeight - j * BLOCK_SIZE); &#125; else &#123; mBitmap.setPixels(block, 0, BLOCK_SIZE, i * BLOCK_SIZE, j * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE); &#125; &#125; &#125; //å¹¶æ²¡æœ‰å›æ”¶ä¼ è¿›æ¥çš„bitmap åŸå› æ˜¯JAVAä¼ å€¼é»˜è®¤æ˜¯å¼•ç”¨,å¦‚æœå›æ”¶äº†ä¹‹å,å…¶ä»–åœ°æ–¹ç”¨åˆ°bitmapçš„ä½ç½®å¯èƒ½æŠ¥NULLæŒ‡é’ˆå¼‚å¸¸,è¯·æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦å›æ”¶. return mBitmap; &#125;&#125;","tags":["ç½‘ç»œå›¾ç‰‡åŠ è½½"],"categories":["Android"]},{"path":"/about/index.html","content":"æ—¶é—´çº¿å‹é“¾å…³äº å…³äº æ­£åœ¨æ–½å·¥ä¸­ Â·Â·Â·"},{"path":"/bookmark/index.html","content":"å¤‡å¿˜æ”¶è— æ”¶è—å¤¹ æ­£åœ¨æ–½å·¥ä¸­ Â·Â·Â·"},{"path":"/friends/index.html","content":"æ—¶é—´çº¿å‹é“¾å…³äº å‹é“¾ æ­£åœ¨æ–½å·¥ä¸­ Â·Â·Â·"},{"path":"/notes/index.html","content":"å¤‡å¿˜æ”¶è— å¤‡å¿˜å½• æ­£åœ¨æ–½å·¥ä¸­ Â·Â·Â·"},{"path":"/timeline/index.html","content":"æ—¶é—´çº¿å‹é“¾å…³äº æ—¶é—´çº¿ æ­£åœ¨æ–½å·¥ä¸­ Â·Â·Â·"},{"title":"åˆ†ç±»Açš„ä¸€ç¯‡æ–‡ç« ","path":"/notes/class_a/index.html","content":"æ­£åœ¨æ–½å·¥ä¸­ Â·Â·Â·"},{"title":"åˆ†ç±»Bçš„ä¸€ç¯‡æ–‡ç« ","path":"/notes/class_b/index.html","content":"æ­£åœ¨æ–½å·¥ä¸­ Â·Â·Â·"}]